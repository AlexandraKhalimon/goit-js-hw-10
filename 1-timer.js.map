{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst calendar = document.querySelector(\"#datetime-picker\");\nconst startBtn = document.querySelector(\"button\");\n\nstartBtn.disabled = true;\nlet userSelectedDate = 0;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        console.log(selectedDates[0]);\n        if (selectedDates[0] < new Date()) {\n            startBtn.disabled = true;\n            iziToast.show({\n                title: \"Warning!\",\n                message: \"Please choose a date in the future\",\n                color: `red`,\n                position: `topCenter`,\n            });\n        } else {\n            startBtn.disabled = false;\n            userSelectedDate = selectedDates[0];\n        }\n        }\n    }\n  \nflatpickr(\"#datetime-picker\", options);\n\nstartBtn.addEventListener(\"click\", startTimer);\n\nfunction startTimer() {\n    const timerId = setInterval(() => {\n        const currentTime = Date.now();\n        const deltaTime = userSelectedDate - currentTime;\n        if (deltaTime <= 0) {\n            clearInterval(timerId);\n            calendar.disabled = false;\n            startBtn.disabled = true;\n            update({ days: \"00\", hours: \"00\", minutes: \"00\", seconds: \"00\" });\n            return;\n        }\n        update(convertMs(deltaTime));\n        \n    }, 1000)\n\n    function convertMs(ms) {\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n      \n        const days = pad(Math.floor(ms / day));\n        const hours = pad(Math.floor((ms % day) / hour));\n        const minutes = pad(Math.floor(((ms % day) % hour) / minute));\n        const seconds = pad(Math.floor((((ms % day) % hour) % minute) / second));\n      \n        return { days, hours, minutes, seconds };\n    }\n\n    function pad(value) {\n        return String(value).padStart(2, \"0\");\n    }\n    \n    const updateTime = {\n        days: document.querySelector(\"[data-days]\"),\n        hours: document.querySelector(\"[data-hours]\"),\n        minutes: document.querySelector(\"[data-minutes]\"),\n        seconds:document.querySelector(\"[data-seconds]\")\n    };\n\n    function update({ days, hours, minutes, seconds }) {\n        updateTime.days.textContent = days;\n        updateTime.hours.textContent = hours;\n        updateTime.minutes.textContent = minutes;\n        updateTime.seconds.textContent = seconds;\n    }\n        \n    startBtn.disabled = true;\n    calendar.disabled = true;\n}\n"],"names":["calendar","startBtn","userSelectedDate","options","selectedDates","iziToast","flatpickr","startTimer","timerId","currentTime","deltaTime","update","convertMs","ms","days","pad","hours","minutes","seconds","value","updateTime"],"mappings":"6vBAKA,MAAMA,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAW,SAAS,cAAc,QAAQ,EAEhDA,EAAS,SAAW,GACpB,IAAIC,EAAmB,EAEvB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACxBA,EAAc,CAAC,EAAI,IAAI,MACvBH,EAAS,SAAW,GACpBI,EAAS,KAAK,CACV,MAAO,WACP,QAAS,qCACT,MAAO,MACP,SAAU,WAC1B,CAAa,IAEDJ,EAAS,SAAW,GACpBC,EAAmBE,EAAc,CAAC,EAErC,CACJ,EAELE,EAAU,mBAAoBH,CAAO,EAErCF,EAAS,iBAAiB,QAASM,CAAU,EAE7C,SAASA,GAAa,CAClB,MAAMC,EAAU,YAAY,IAAM,CAC9B,MAAMC,EAAc,KAAK,MACnBC,EAAYR,EAAmBO,EACrC,GAAIC,GAAa,EAAG,CAChB,cAAcF,CAAO,EACrBR,EAAS,SAAW,GACpBC,EAAS,SAAW,GACpBU,EAAO,CAAE,KAAM,KAAM,MAAO,KAAM,QAAS,KAAM,QAAS,IAAI,CAAE,EAChE,MACH,CACDA,EAAOC,EAAUF,CAAS,CAAC,CAE9B,EAAE,GAAI,EAEP,SAASE,EAAUC,EAAI,CAMnB,MAAMC,EAAOC,EAAI,KAAK,MAAMF,EAAK,KAAG,CAAC,EAC/BG,EAAQD,EAAI,KAAK,MAAOF,EAAK,MAAO,IAAI,CAAC,EACzCI,EAAUF,EAAI,KAAK,MAAQF,EAAK,MAAO,KAAQ,GAAM,CAAC,EACtDK,EAAUH,EAAI,KAAK,MAASF,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAEvE,MAAO,CAAE,KAAAC,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACzC,CAED,SAASH,EAAII,EAAO,CAChB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACvC,CAED,MAAMC,EAAa,CACf,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAQ,SAAS,cAAc,gBAAgB,CACvD,EAEI,SAAST,EAAO,CAAE,KAAAG,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CAC/CE,EAAW,KAAK,YAAcN,EAC9BM,EAAW,MAAM,YAAcJ,EAC/BI,EAAW,QAAQ,YAAcH,EACjCG,EAAW,QAAQ,YAAcF,CACpC,CAEDjB,EAAS,SAAW,GACpBD,EAAS,SAAW,EACxB"}